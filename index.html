<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Barst: Barst</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Barst
   &#160;<span id="projectnumber">2.0</span>
   </div>
   <div id="projectbrief">A server that controls lab hardware.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Barst </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Barst is a server/client architecture for reading/writing to devices, such as switches or cameras commonly used in the CPL lab.</p>
<p>It allows one central server to control the devices, while clients request that data be sent or read from the devices.</p>
<p>See <a href="http://matham.github.io/barst/index.html">http://matham.github.io/barst/index.html</a> for the complete server documentation and <a href="https://matham.github.io/pybarst/index.html">https://matham.github.io/pybarst/index.html</a> for a Python client implementation.</p>
<p>Note that the project does not link to any external code at compile time but instead loads driver dlls dynamically at runtime. Therefore, these dlls needs to be present and installed on the system before specific devices can be supported.</p>
<h2>Usage </h2>
<p>Users typically instantiate a server instance from a batch file with e.g. </p><pre class="fragment">start "" "barst.exe" "\\.\pipe\CPL_test" 1024 1024
</pre><p>in a batch file. Once instantiated, users interact with the server using the client API over the provided pipe.</p>
<h2>Architecture </h2>
<p>Each device supported by the server requires that a <code><a class="el" href="class_c_manager.html">CManager</a></code> and <code><a class="el" href="class_c_device.html">CDevice</a></code> interface to be implemented. This defines the operations supported by the device.</p>
<p>A client first requests the manager for a particular device type, e.g. the <code>MCDAQ</code> (Measurement Computing USB DAQ) using the main server pipe. The first time the manager is created on the server, it loads the required driver. Subsequently, the client sends a request to the manager to create an instance of a specific <code>MCDAQ</code> device.</p>
<p>Once the <code>MCDAQ</code> device exists, clients connect to it directly (each device gets its own pipe) and send data requests to control or read from the device. Multiple clients may safely send requests to the same device. Each device reads or writes data in its own thread.</p>
<p>For reading data from the device, there are generally two options:</p>
<p>#. Read the device and send back data to the client upon request. #. The server contentiously reads data from the device and buffers it. It also contentiously sends the data it read to the client who initiated the read request.</p>
<p>Clients are responsible for closing the device when not needed anymore.</p>
<h2>Data types </h2>
<p>All data requests over the pipe start with common structs. Each device manages the pipe used by clients of the device and defines the structs used by clients. <code>cpl defs.h</code> defines all the data types. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Oct 25 2019 03:33:37 for Barst by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
